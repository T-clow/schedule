<div class="menu">
  <h2>予定一覧</h2>
  <p><%= link_to "予定新規登録", :new_post, class: "btn btn-light"%></p>
</div>

<div class="table-responsive TableResponsive">
  <table class="table Table">
    <thead>
      <tr>
        <th>ID</th>
        <th>タイトル</th>
        <th>開始日</th>
        <th>終了日</th>
        <th>終日</th>
        <th>更新日時</th>
        <th></th>
        <th></th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <% if @post_count.zero? %>
        <p><%= @no_schedules_message %></p>
      <% else %>
        <% @posts.each do |post| %>
          <tr>
            <td><%= post.id %></td>
            <td><%= post.title %></td>
            <td><%= post.start_at&.in_time_zone("Tokyo")&.strftime("%Y/%m/%d") %></td>
            <td><%= post.end_at&.in_time_zone("Tokyo")&.strftime("%Y/%m/%d") %></td>
            <td><%= post.is_all_day ? "○" : "" %></td>
            <td><%= post.updated_at&.in_time_zone("Tokyo")&.strftime("%Y/%m/%d %H:%M:%S") %></td>
            <td><%= link_to "詳細", post_path(post), class: "btn btn-outline-primary" %></td>
            <td><%= link_to "編集", [:edit, post], class: "btn btn-outline-primary" %></td>
            <td><%= link_to "削除", post_path(post), method: :delete, data: { confirm: "本当に削除しますか？" }, class: "btn btn-danger", title: "削除" %></td>
          </tr>
        <% end %>
      <% end %>
    </tbody>
  </table>
</div>

<div class="card-body FooterBody">
  <p class="FooterBody__count">
    予定合計&nbsp;&nbsp;<span><%= @post_count %></span>件
  </p>

  <p class="FooterBody__datetime">
    本日の日付&nbsp; <%= @today_date&.in_time_zone("Tokyo")&.strftime("%Y/%m/%d") %>
  </p>
</div>
